<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.d7c058c4799a07adaa06.css">.comments-header{font-size:1.2em}#comments li,#comments li li li,#comments li li li li li{overflow:hidden;margin:0 0 .9375rem;padding:.9375rem .9375rem 0;background:#fff;border:1px solid #ccc}#comments li li,#comments li li li li{background:#f9f9f9}.comment-meta{margin:.625rem 0 1.3125rem;font-size:.8125rem;color:#666}.comment-author{font-size:.9375rem;color:#000}.comment-edit-link,.comment-reply-link,.permalink{font-style:italic;color:#666}.comment-text{clear:left;margin:0 .9375rem}.comment img.avatar{padding:.625rem;float:left}code.grvsc-code{margin-left:unset;margin-right:unset}.clearfix{overflow:auto}html{font-size:100}body{margin:0 0 0 calc(100vw - 100%);color:#222;line-height:1.625;font-size:1rem;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}body,h1,h2,h3,h4,h5,h6{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif}h1,h2,h3,h4,h5,h6{font-weight:600}h1{font-size:2.5rem;line-height:3.25rem;margin-top:6.5rem;margin-bottom:1.625rem}h2{font-size:1.6875rem;line-height:2.4375rem}h2,h3{margin-top:3.25rem;margin-bottom:.8125rem}h3{font-size:1.375rem;line-height:1.625rem}h4{font-size:1.2rem;margin-top:2.4375rem}h4,h5{line-height:1.625rem;margin-bottom:.8125rem}h5,h6{font-size:1rem;margin-top:4.0625rem}h6{line-height:1.625rem;margin-bottom:.8125rem}img{max-width:100%;margin:inherit auto}hr,img{border:0;display:block}hr{color:#222;height:1.625rem;margin:3.25rem auto;background-size:100% 26px;background-image:linear-gradient(180deg,transparent 1px,transparent 11px,#222 0,#222 15px,transparent 0,transparent 26px);width:6.25rem}a{color:#5d93ff;text-decoration:none}a:active,a:focus,a:hover{color:#f7a046}b,strong{font-weight:600}ul{list-style:square;margin-bottom:1.625rem}ul li{padding:0 .3125rem;margin-bottom:.625rem}p{line-height:1.625rem;margin-top:0;margin-bottom:.975rem}blockquote{padding:0;font-style:italic;text-align:center}figure{display:block;width:100%;height:auto}figcaption{line-height:1.21875rem;margin-top:.40625rem;color:#222;font-size:.875rem;font-style:italic;margin-bottom:0;text-align:center}.anchor{margin-left:-1.875rem!important;padding-right:.875rem!important}@media screen and (min-width:685px){figure.float-left,figure.float-right{max-width:19.375rem;padding:0 1.625rem}.float-right{float:right}.float-left{float:left}}.Author-module--author__photo--36xCH{display:inline-block;margin-bottom:0;border-radius:50%;background-clip:padding-box}.Author-module--author__title--2CaTb{font-size:1.125rem;font-weight:600;line-height:1.82813rem;margin:.8125rem 0}.Author-module--author__title-link--Yrism,.Author-module--author__title-link--Yrism:focus,.Author-module--author__title-link--Yrism:hover{color:#222}.Author-module--author__subtitle--cAaEB{color:#888;line-height:1.625rem;margin-bottom:1.625rem}.Icon-module--icon--Gpyvw{display:inline-block;width:1em;height:1em;stroke-width:0;stroke:currentColor;fill:currentColor;font-style:normal;font-weight:400;speak:none;margin-right:.2em;text-align:center;font-variant:normal;text-transform:none;line-height:1em;margin-left:.2em;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.Contacts-module--contacts--1rGd1{margin-bottom:1.625rem}.Contacts-module--contacts__list--3OgdW{display:flex;flex-flow:row wrap;flex-grow:0;flex-shrink:0;list-style:none;padding:0;margin:.625rem -.1875rem;width:8.75rem}.Contacts-module--contacts__list-item--16p9q{padding:0;margin:.25rem;display:flex;align-content:center;align-items:center;justify-content:center;height:2.1875rem;width:2.1875rem;line-height:2.1875rem;border-radius:50%;text-align:center;border:1px solid #ebebeb}.Contacts-module--contacts__list-item-link--2MIDn{border:0;display:flex;color:#222}.Contacts-module--contacts__list-item-link--2MIDn:focus,.Contacts-module--contacts__list-item-link--2MIDn:hover{color:#5d93ff}.Copyright-module--copyright--1ariN{color:#b6b6b6;font-size:.875rem}.Menu-module--menu--Efbin{margin-bottom:1.625rem}.Menu-module--menu__list--31Zeo{list-style:none;padding:0;margin:0}.Menu-module--menu__list-item--1lJ6B{padding:0;margin:.625rem 0}.Menu-module--menu__list-item-link--10Ush{font-size:1rem;color:#222;font-weight:400;border:0}.Menu-module--menu__list-item-link--10Ush:focus,.Menu-module--menu__list-item-link--10Ush:hover{color:#5d93ff;border-bottom:1px solid #5d93ff}.Menu-module--menu__list-item-link--active--2CbUO{color:#222;border-bottom:1px solid #222}.Sidebar-module--sidebar--X4z2p{width:100%}.Sidebar-module--sidebar__inner--Jdc5s{position:relative;padding:1.5625rem 1.25rem 0}@media screen and (min-width:685px){.Sidebar-module--sidebar--X4z2p{width:calc(41.625% - 1.09375rem)}.Sidebar-module--sidebar--X4z2p:nth-child(1n){float:left;margin-right:1.875rem;clear:none}.Sidebar-module--sidebar--X4z2p:last-child{margin-right:0}.Sidebar-module--sidebar--X4z2p:nth-child(12n){margin-right:0;float:right}.Sidebar-module--sidebar--X4z2p:nth-child(12n+1){clear:both}.Sidebar-module--sidebar__inner--Jdc5s{padding:1.875rem 1.25rem 0}.Sidebar-module--sidebar__inner--Jdc5s:after{background:#e6e6e6;background:linear-gradient(180deg,#e6e6e6 0,#e6e6e6 48%,#fff);position:absolute;content:"";width:.0625rem;height:33.75rem;top:30px;right:-10px;bottom:0}}@media screen and (min-width:960px){.Sidebar-module--sidebar--X4z2p{width:calc(33.3% - 1.25rem)}.Sidebar-module--sidebar--X4z2p:nth-child(1n){float:left;margin-right:1.875rem;clear:none}.Sidebar-module--sidebar--X4z2p:last-child{margin-right:0}.Sidebar-module--sidebar--X4z2p:nth-child(3n){margin-right:0;float:right}.Sidebar-module--sidebar--X4z2p:nth-child(3n+1){clear:both}.Sidebar-module--sidebar__inner--Jdc5s{padding:2.5rem}}.Layout-module--layout--3Pyz6{max-width:66.875rem;margin-left:auto;margin-right:auto}.Layout-module--layout--3Pyz6:before{content:"";display:table}.Layout-module--layout--3Pyz6:after{content:"";display:table;clear:both}.Feed-module--feed__item--2D5rE{margin-bottom:2.03125rem}.Feed-module--feed__item--2D5rE:last-child{margin-bottom:.8125rem}.Feed-module--feed__item-title--3nigr{font-size:1.6875rem;line-height:2.4375rem;margin-top:0;margin-bottom:.8125rem}.Feed-module--feed__item-title-link--iFMRs{color:#222}.Feed-module--feed__item-title-link--iFMRs:focus,.Feed-module--feed__item-title-link--iFMRs:hover{color:#222;border-bottom:1px solid #222}.Feed-module--feed__item-description--1uO8e{font-size:1rem;line-height:1.625rem;margin-bottom:1.21875rem}.Feed-module--feed__item-image--2tCPM{float:left;width:25%;max-width:11.25rem;padding-top:.625rem;padding-right:.625rem;padding-bottom:.625rem}.Feed-module--feed__item-meta-time--3t1fg{font-size:.875rem;color:#222;font-weight:600;text-transform:uppercase}.Feed-module--feed__item-meta-divider--N-Q0A{margin:0 .3125rem}.Feed-module--feed__item-meta-category-link--23f8F{font-size:.875rem;color:#f7a046;font-weight:600;text-transform:uppercase}.Feed-module--feed__item-meta-category-link--23f8F:focus,.Feed-module--feed__item-meta-category-link--23f8F:hover{color:#5d93ff}.Feed-module--feed__item-readmore--1u6bI{font-size:1rem;color:#5d93ff}.Feed-module--feed__item-readmore--1u6bI:focus,.Feed-module--feed__item-readmore--1u6bI:hover{color:#5d93ff;border-bottom:1px solid #5d93ff}.Page-module--page--2nMky{margin-bottom:3.25rem}.Page-module--page__inner--2M_vz{padding:1.5625rem 1.25rem}.Page-module--page__title--GPD8L{font-size:2.5rem;font-weight:600;line-height:3.25rem;margin-top:0;margin-bottom:2.35625rem}.Page-module--page__body--Ic6i6{font-size:1rem;line-height:1.625rem;margin:0 0 1.625rem}@media screen and (min-width:685px){.Page-module--page--2nMky{width:calc(58.275% - .78125rem)}.Page-module--page--2nMky:nth-child(1n){float:left;margin-right:1.875rem;clear:none}.Page-module--page--2nMky:last-child{margin-right:0}.Page-module--page--2nMky:nth-child(12n){margin-right:0;float:right}.Page-module--page--2nMky:nth-child(12n+1){clear:both}.Page-module--page__inner--2M_vz{padding:1.875rem 1.25rem}}@media screen and (min-width:960px){.Page-module--page--2nMky{width:calc(66.6% - .625rem)}.Page-module--page--2nMky:nth-child(1n){float:left;margin-right:1.875rem;clear:none}.Page-module--page--2nMky:last-child{margin-right:0}.Page-module--page--2nMky:nth-child(3n){margin-right:0;float:right}.Page-module--page--2nMky:nth-child(3n+1){clear:both}.Page-module--page__inner--2M_vz{padding:2.5rem 2.1875rem}}.Pagination-module--pagination--2H3nO{margin-top:3.25rem;display:flex}.Pagination-module--pagination__prev--bet5s{width:50%;text-align:left}.Pagination-module--pagination__prev-link--1Nzs6{color:#f7a046;font-size:1.625rem;font-weight:700}.Pagination-module--pagination__prev-link--1Nzs6:focus,.Pagination-module--pagination__prev-link--1Nzs6:hover{color:#5d93ff}.Pagination-module--pagination__prev-link--disable--Yklx9{pointer-events:none;color:#bbb}.Pagination-module--pagination__next--3hFiN{width:50%;text-align:right}.Pagination-module--pagination__next-link--3FUtA{color:#f7a046;font-size:1.625rem;font-weight:700}.Pagination-module--pagination__next-link--3FUtA:focus,.Pagination-module--pagination__next-link--3FUtA:hover{color:#5d93ff}.Pagination-module--pagination__next-link--disable--30UwZ{pointer-events:none;color:#bbb}.Author-module--author--2Yefr{border-top:1px solid #e6e6e6;max-width:55.9375rem;padding-top:1.25rem;line-height:1.625rem;margin-top:1.625rem;margin-bottom:3.25rem}.Author-module--author__bio-twitter--n-O9n{display:block;text-decoration:underline}@media screen and (min-width:685px){.Author-module--author--2Yefr{margin-left:auto;margin-right:auto}}.Content-module--content--3p512{max-width:75rem;padding:0 .9375rem;margin:0 auto}.Content-module--content__title--2BDW9{font-size:2rem;max-width:55.9375rem;font-weight:600;text-align:center;line-height:2.68125rem;margin:1.625rem auto 0}.Content-module--content__body--2TrQ- figure{margin-bottom:1.625rem}.Content-module--content__body--2TrQ- figure blockquote{font-style:italic;text-align:center;margin-top:0;padding:1.625rem 0}.Content-module--content__body--2TrQ- figure blockquote p{max-width:55.9375rem;font-size:1.6817rem;margin-top:0;margin-bottom:1.625rem;line-height:2.4375rem}.Content-module--content__body--2TrQ- a{text-decoration:underline}.Content-module--content__body--2TrQ- *{max-width:55.9375rem;margin-left:auto;margin-right:auto}.Content-module--content__body--2TrQ- img{max-width:100%}@media screen and (min-width:960px){.Content-module--content--3p512{padding:0}.Content-module--content__title--2BDW9{font-size:3rem;line-height:3.65625rem;margin-top:3.65625rem;margin-bottom:2.4375rem}.Content-module--content__body--2TrQ-,.Content-module--content__body--2TrQ- p{font-size:1.125rem;line-height:1.82813rem;margin-bottom:1.82813rem}}.Meta-module--meta__date--29eD7{font-style:italic}.Tags-module--tags--1L_ct{margin-bottom:.8125rem}.Tags-module--tags__list--91FqN{list-style:none;margin:0 -.625rem;padding:0}.Tags-module--tags__list-item--1M30P{display:inline-block;margin:.625rem .3125rem}.Tags-module--tags__list-item-link--3SL_8{display:inline-block;height:2.1875rem;padding:0 1.5rem;line-height:2.1875rem;border:1px solid #e6e6e6;text-decoration:none;border-radius:1.25rem;color:#222}.Tags-module--tags__list-item-link--3SL_8:focus,.Tags-module--tags__list-item-link--3SL_8:hover{color:#5d93ff}.Post-module--post__comments--25y6I,.Post-module--post__footer--3WzWU{max-width:55.9375rem;margin:0 auto;padding:0 .9375rem}.Post-module--post__home-button--16Kl0{display:block;max-width:5.625rem;height:2.1875rem;padding:0 1.5rem;line-height:2.1875rem;text-align:center;color:#222;border:1px solid #e6e6e6;border-radius:1.25rem;font-size:1rem;font-weight:400;margin-left:auto;margin-right:auto;margin-top:1.625rem}.Post-module--post__home-button--16Kl0:focus,.Post-module--post__home-button--16Kl0:hover{color:#5d93ff}@media screen and (min-width:960px){.Post-module--post__comments--25y6I,.Post-module--post__footer--3WzWU{padding:0}.Post-module--post__home-button--16Kl0{position:fixed;max-width:auto;margin:0;top:30px;left:30px}}</style><meta name="generator" content="Gatsby 2.24.52"/><link rel="alternate" type="application/rss+xml" title="Big Fast Blog" href="/rss.xml"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-15826070-1"></script><script>
      
      
      if(true) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){window.dataLayer && window.dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-15826070-1', {"send_page_view":false});
      }
      </script><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="icon" href="/favicon-32x32.png?v=c42cfc86b75f7cc51dd49ceb0f10b5ec" type="image/png"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#F7A046"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=c42cfc86b75f7cc51dd49ceb0f10b5ec"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=c42cfc86b75f7cc51dd49ceb0f10b5ec"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=c42cfc86b75f7cc51dd49ceb0f10b5ec"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=c42cfc86b75f7cc51dd49ceb0f10b5ec"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=c42cfc86b75f7cc51dd49ceb0f10b5ec"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=c42cfc86b75f7cc51dd49ceb0f10b5ec"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=c42cfc86b75f7cc51dd49ceb0f10b5ec"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=c42cfc86b75f7cc51dd49ceb0f10b5ec"/><title data-react-helmet="true">A/B Testing in Ruby On Rails - Big Fast Blog</title><meta data-react-helmet="true" name="description" content="In this post I am going to demonstrate, step-by-step, a way to A/B test new features from within Ruby-On-Rails using FluidFeatures. FluidFeatures is currently in closed-beta and requires request for inclusion in the beta program. We are looking for enthusiastic A/B testers, so we can get feedback on the service before releasing it to the masses."/><meta data-react-helmet="true" property="og:site_name" content="A/B Testing in Ruby On Rails - Big Fast Blog"/><meta data-react-helmet="true" property="og:image" content="https://bigfastblog.com/media/images/photo.jpg"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:title" content="A/B Testing in Ruby On Rails - Big Fast Blog"/><meta data-react-helmet="true" name="twitter:description" content="In this post I am going to demonstrate, step-by-step, a way to A/B test new features from within Ruby-On-Rails using FluidFeatures. FluidFeatures is currently in closed-beta and requires request for inclusion in the beta program. We are looking for enthusiastic A/B testers, so we can get feedback on the service before releasing it to the masses."/><meta data-react-helmet="true" name="twitter:image" content="https://bigfastblog.com/media/images/photo.jpg"/><link as="script" rel="preload" href="/webpack-runtime-2669f23515168d4daa22.js"/><link as="script" rel="preload" href="/framework-d018bf9a55d82f10618c.js"/><link as="script" rel="preload" href="/app-1be3f86dc13de6efc5d3.js"/><link as="script" rel="preload" href="/styles-083a06cb5740baaf347d.js"/><link as="script" rel="preload" href="/b40c11bee3846ca70ab17cd1bc776b2e57af83cb-10791c46efc983490b73.js"/><link as="script" rel="preload" href="/643651a62fb35a9bb4f20061cb1f214a352d7976-921c08de707572e0b904.js"/><link as="script" rel="preload" href="/component---src-templates-post-template-js-a0fc6e0c604116ad175d.js"/><link as="fetch" rel="preload" href="/page-data/ab-testing-in-ruby-on-rails/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/251939775.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/3942705351.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/401334301.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="Layout-module--layout--3Pyz6"><div><a class="Post-module--post__home-button--16Kl0" href="/">Posts</a><div><div class="Content-module--content--3p512"><h1 class="Content-module--content__title--2BDW9">A/B Testing in Ruby On Rails</h1><div class="Content-module--content__body--2TrQ-"><p><em>Update: FluidFeatures is no longer an active project</em></p>
<p>In this post I am going to demonstrate, step-by-step, a way to A/B test new features from within Ruby-On-Rails using FluidFeatures. FluidFeatures is currently in closed-beta and requires request for inclusion in the beta program. We are looking for enthusiastic A/B testers, so we can get feedback on the service before releasing it to the masses.</p>
<h2 id="ab-testing" style="position:relative;"><a href="#ab-testing" aria-label="ab testing permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>A/B Testing?</h2>
<p>A/B testing or multi-variant testing is the best way to test your hypothesis about what your users want or what works best to get them to do what you want them to do. Generally, when these things come together, your users and your website have found a good fit and you are making a service that is more useful to your users, more intuitive, the right price or sometimes… just the right color. </p>
<p>With A/B testing you can find answers to questions, such as “Is a list a categories down the side of the web page better, or a search box with a cleaner design?”.</p>
<p>The general idea of A/B testing is that some users will see one version of a website feature and other users see a different version. These two versions of the feature might ultimately provide the same functionality, but provide the user with a slightly different experience, depending on which version they are shown. The success of the test will generally be based on the user taking some action. The winner is determined by whether version A or version B receives the most success hits. If the difference in success hits between A and B is significant, then this is a clear indication of which one you should implement for all of your user-base.</p>
<p>The simplest A/B tests include scenarios like “the button is on the right” vs “the button is on the left” or “the background is green” vs “the background is blue”. Whilst these might sound like pointless exercises, the Gods of A/B testing have decided that sometimes these small changes really do push up the conversion rate. Whether it is the psychology of colors, the genetically encoded aesthetic preferences we all carry or some ancient voodoo, if the statistics are pointing at a winning version of a feature of your website, then you would be a fool to ignore it.</p>
<p>Even a small consistent difference will pay back with compound interest when combined with numerous other changes methodically measured in the same way.</p>
<p>While we all think we know the best solution, the best design and the best UX, in this ever changing world, we really know nothing unless we have the statistics to back it up. Anyone who is doing anything of significance on the web is doing some form of measuring and A/B testing.</p>
<h2 id="ruby-or-javascript" style="position:relative;"><a href="#ruby-or-javascript" aria-label="ruby or javascript permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ruby Or JavaScript?</h2>
<p>When I say, “A/B Testing in Ruby On Rails”, you probably think I am talking about something like <a href="https://www.optimizely.com/" target="_blank" rel="nofollow noopener noreferrer">Optimizely</a> or <a href="https://analytics.blogspot.ca/2012/06/helping-to-create-better-websites.html" target="_blank" rel="nofollow noopener noreferrer">Google Website Optimizer</a> (now <a href="https://analytics.blogspot.ca/2012/06/helping-to-create-better-websites.html" target="_blank" rel="nofollow noopener noreferrer">Google Content Experiments</a>). These are great solutions and if you are serious about A/B testing your Ruby-On-Rails application then you should <a href="https://www.youtube.com/watch?v=0S0IrbwpfzE" target="_blank" rel="nofollow noopener noreferrer">check them out</a>. These solutions are JavaScript solutions which work by dropping a JavaScript snippet onto your webpage and changing the user’s experience at the browser level. The JavaScript will make the choice of what the current user sees by changing the DOM (HTML on the page) or redirecting them to another page.</p>
<p>Managing this in JavaScript makes it easy to setup, but it also means that all the A/B versions are available to all users and are just obscured by the browser. The server has to potentially render the full content for both versions for each visitor. This is not ideal if you are testing a beta-version of a feature and you do not want it to affect all your users. Or you are testing pricing or new features where you really do not want any chance of someone hacking your JavaScript to expose the unpublished features. Your marketing team would not be happy.</p>
<p>So, in short, I talking about taking this down to the Ruby level on the server-side.</p>
<h2 id="benefits-of-server-side-ab-testing" style="position:relative;"><a href="#benefits-of-server-side-ab-testing" aria-label="benefits of server side ab testing permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Benefits of Server-Side A/B Testing</h2>
<p>When a user visits your website, the earlier you know which features they will see, or which versions of which features, the less work you have to do. It also opens up a whole new world of A/B testing. Have you ever wanted to test different variations of an SQL query against each other in production and see which is faster? Why not test the newer SQL query on 1% of your user-base?</p>
<p>If your A/B testing originates on the server-side, a feature version’s per-user enabled status is a simple boolean that is now available at <em>every</em> level of your architecture, not <em>just</em> in the browser. You can look at the impact of that enabled status in aggregate against specific goals on your website (e.g. “user clicks on the Buy button”) or offline (e.g. “user sends us an email”) using the same system.</p>
<p>If you manage your A/B testing on the server-side then it is easier to push information up to the browser for inclusion in Google Analytics. If you manage it in the browser, using JavaScript, then there is little the server-side can do once the web page is already rendered.</p>
<h2 id="lets-do-it" style="position:relative;"><a href="#lets-do-it" aria-label="lets do it permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Let’s Do It!</h2>
<p>First we add the <strong>fluidfeatures-rails</strong> gem to your Rails application’s Gemfile.</p>
<pre class="grvsc-container monokai" data-language="" data-index="0"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">gem &quot;fluidfeatures-rails&quot;</span></span></code></pre>
<p>In your <strong>app/controllers/application_controller.rb</strong> file you need a method that fluidfeatures-rails can call to find out who the current user is, or if the user is anonymous. In our example we call this <strong>get_current_user</strong>, which will return a Hash with at least and <strong>:id</strong> value.</p>
<p><strong>user[:id]</strong> is the unique identifier of this user. If we do not have this then we assume this is an anonymous (not logged in) user. If the user is anonymous then fluidfeatures-rails generates its own anonymous-user-id and sets a cookie so that the anonymous user receives a consistent experience on each request.</p>
<pre class="grvsc-container monokai" data-language="ruby" data-index="1"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk7">def</span><span class="mtk1"> </span><span class="mtk5">fluidfeatures_current_user</span><span class="mtk1">(</span><span class="mtk10 mtki">verbose</span><span class="mtk7">=</span><span class="mtk4">false</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  current_user </span><span class="mtk7">=</span><span class="mtk1"> get_current_user</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk7">if</span><span class="mtk1"> current_user</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3"># logged in user</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    { </span><span class="mtk4">:id</span><span class="mtk1"> =&gt; current_user[</span><span class="mtk4">:id</span><span class="mtk1">] }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk7">else</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3"># anonymous user</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk4">nil</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk7">end</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk7">end</span></span></span></code></pre>
<p>Next, load the fluidfeatures-rails initializer at the end of you Applications instantiation.</p>
<pre class="grvsc-container monokai" data-language="ruby" data-index="2"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk7">module</span><span class="mtk1"> </span><span class="mtk5 mtku">MyRailsApp</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk7">class</span><span class="mtk1"> </span><span class="mtk5 mtku">Application</span><span class="mtk1"> </span><span class="mtk7">&lt;</span><span class="mtk1"> </span><span class="mtk5 mtki mtku">Rails::Application</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk9 mtki">FluidFeatures</span><span class="mtk1">::</span><span class="mtk9 mtki">Rails</span><span class="mtk1">.initializer</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk7">end</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk7">end</span></span></span></code></pre>
<p>Great. Now we can start plugging in our feature versions into our request handler. We have one feature called “ab-test” with version “a” and “b”…</p>
<pre class="grvsc-container monokai" data-language="ruby" data-index="3"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk7">class</span><span class="mtk1"> </span><span class="mtk5 mtku">AbTestController</span><span class="mtk1"> </span><span class="mtk7">&lt;</span><span class="mtk1"> </span><span class="mtk5 mtki mtku">ApplicationController</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk7">def</span><span class="mtk1"> </span><span class="mtk5">index</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk7">if</span><span class="mtk1"> fluidfeature(</span><span class="mtk6">&quot;ab-test&quot;</span><span class="mtk1">, { </span><span class="mtk4">:version</span><span class="mtk1"> =&gt; </span><span class="mtk6">&quot;a&quot;</span><span class="mtk1"> })</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk3"># Our version &quot;A&quot; code here</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk7">end</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk7">if</span><span class="mtk1"> fluidfeature(</span><span class="mtk6">&quot;ab-test&quot;</span><span class="mtk1">, { </span><span class="mtk4">:version</span><span class="mtk1"> =&gt; </span><span class="mtk6">&quot;b&quot;</span><span class="mtk1"> })</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk3"># Our version &quot;B&quot; code here</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk7">end</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk7">end</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk7">end</span></span></span></code></pre>
<h2 id="hooking-up-with-the-dashboard" style="position:relative;"><a href="#hooking-up-with-the-dashboard" aria-label="hooking up with the dashboard permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Hooking Up With The Dashboard</h2>
<p>Once we are logged into FluidFeatures.com, we can create a new “application”. This can be found at <a href="https://www.fluidfeatures.com/dashboard" target="_blank" rel="nofollow noopener noreferrer">https://www.fluidfeatures.com/dashboard</a></p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 428px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/fde68d79264160db76933f066ae1205d/47730/new-application.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 66.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABfklEQVQ4y61Ty07CUBDlm/wIF8aNC2NMWLjRhX9i3GvU6IKE+AjCH5CAYWFCwG5pQ7UX2lJKIda26Ytjp0AtAYQFk5zcua9zZ+bMzciyjH6/j+FwuBVker0ewjDEtixDrOPxOGa3LAuj0SgeCaZpJo/RmU2QMQwDruuiWq2iXC7HY61Wi8d6vY4gCOYJV/kzQl3X16ZBB6fOn59eT6dMgtAGidPpdCCKIlRVBc/z0DRtIV2y4CcqheMsJY1FIfN9H57nJXCiC7QWX0qJ5ipd2NInwtneMkKq00ezgbdKBVyziUZUO5pr9Ni0VqFtwRYFuAP9/5QVRUkmq5rHl0RYbX4uqhnZQoRKVK/Q9/CVvwHL34I93UN6vAN7eQB7zaF9fQFWyKWiCpeqm6hMhL5jo5jdx/PxHgonByidHaF4eojSeRa53R28X11OMgj89X0oCELcvI5t4zuqj2kMJiCfEDU8ibTxT+E4Dq1WC92obWRFnUKZ86mdJEkCY2wtfgGwXdyxh82wbQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <picture>
        <source
          srcset="/static/fde68d79264160db76933f066ae1205d/8ac56/new-application.webp 240w,
/static/fde68d79264160db76933f066ae1205d/3b73a/new-application.webp 428w"
          sizes="(max-width: 428px) 100vw, 428px"
          type="image/webp"
        />
        <source
          srcset="/static/fde68d79264160db76933f066ae1205d/8ff5a/new-application.png 240w,
/static/fde68d79264160db76933f066ae1205d/47730/new-application.png 428w"
          sizes="(max-width: 428px) 100vw, 428px"
          type="image/png"
        />
        <img
          class="gatsby-resp-image-image"
          src="/static/fde68d79264160db76933f066ae1205d/47730/new-application.png"
          alt="new application"
          title="new application"
          loading="lazy"
          style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        />
      </picture>
  </a>
    </span></p>
<p>Give our application a name.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 591px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/0b63015aa4106f1f65b9ae83634e4c89/e4c9a/input-app-name.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 41.66666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABIUlEQVQoz4WRCW6DMBBFuf/1wlJoU1CCChgbzGK2AL+eiUiqSG1HejIzsp6/jWOMgVIKURQhSRKk6RVpIvHhC5wDgcu7wjku8HnNkVwypEJDmwV1P/Mqmgnrhkc5fd+DKIoCZSlZrmQFUSiL7WUNM8zozAgVvqHrDMbbjmG+WVaYacW27dj3O07btvxBa9d1oMRa10zTaCszz+PXFUv+BWvAa5GDE5KIElKyqqpYetRgBp43TXNPQM5pwlxkj0QHh5SFJAqCAGEY2jdMH8I8z+H7PrIseyaxbLcFu037KmWh1hrLsrCUklBP7zmOIyabhnqaCyFQ1zX+KyeOY95YliUjpeT1kJPomNH1j5/4G87pdILruny1n3iex7zOae9ffANbJ2CbvYdPFQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <picture>
        <source
          srcset="/static/0b63015aa4106f1f65b9ae83634e4c89/8ac56/input-app-name.webp 240w,
/static/0b63015aa4106f1f65b9ae83634e4c89/d3be9/input-app-name.webp 480w,
/static/0b63015aa4106f1f65b9ae83634e4c89/48c21/input-app-name.webp 591w"
          sizes="(max-width: 591px) 100vw, 591px"
          type="image/webp"
        />
        <source
          srcset="/static/0b63015aa4106f1f65b9ae83634e4c89/8ff5a/input-app-name.png 240w,
/static/0b63015aa4106f1f65b9ae83634e4c89/e85cb/input-app-name.png 480w,
/static/0b63015aa4106f1f65b9ae83634e4c89/e4c9a/input-app-name.png 591w"
          sizes="(max-width: 591px) 100vw, 591px"
          type="image/png"
        />
        <img
          class="gatsby-resp-image-image"
          src="/static/0b63015aa4106f1f65b9ae83634e4c89/e4c9a/input-app-name.png"
          alt="input app name"
          title="input app name"
          loading="lazy"
          style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        />
      </picture>
  </a>
    </span></p>
<p>Find our application’s credentials.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 729px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/b6100f5c7b24ac21ab44258c5457e75d/b2982/click-credentials.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 34.166666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA3UlEQVQoz5VQ7W7EIAzj/d+wmm5dpYOCKCWsnyu3eiS6ntbtfmxIlohJjB1FRAghoO97UCTEmBD7BKIkHL8xUkoYx/GMYQAVPsQI1hlKrXiormtofYWzAW8vXYGHvRKMNmiaRt6579l5Dx3a1wvGeZZabdsmzbH8wui6Dt57LMtyGtz3/TcKn73D/rE+etS6riLEdlmcyWmaJGLO+ST2854p4lZ6D14c8n6qqpJohytrrXDzPcZTdwWfeROX3zlxeCzdOSfuWJjXwPEZ/zlKaw1jzANt257ufwWn4pkvr30aovRn6A0AAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <picture>
        <source
          srcset="/static/b6100f5c7b24ac21ab44258c5457e75d/8ac56/click-credentials.webp 240w,
/static/b6100f5c7b24ac21ab44258c5457e75d/d3be9/click-credentials.webp 480w,
/static/b6100f5c7b24ac21ab44258c5457e75d/78e23/click-credentials.webp 729w"
          sizes="(max-width: 729px) 100vw, 729px"
          type="image/webp"
        />
        <source
          srcset="/static/b6100f5c7b24ac21ab44258c5457e75d/8ff5a/click-credentials.png 240w,
/static/b6100f5c7b24ac21ab44258c5457e75d/e85cb/click-credentials.png 480w,
/static/b6100f5c7b24ac21ab44258c5457e75d/b2982/click-credentials.png 729w"
          sizes="(max-width: 729px) 100vw, 729px"
          type="image/png"
        />
        <img
          class="gatsby-resp-image-image"
          src="/static/b6100f5c7b24ac21ab44258c5457e75d/b2982/click-credentials.png"
          alt="click credentials"
          title="click credentials"
          loading="lazy"
          style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        />
      </picture>
  </a>
    </span></p>
<p>We will copy these credentials and pass them to our rails application as environment variables.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 730px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/9b149d7e6c471b51dcdedc2c5cc13770/e9beb/credentials.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 35%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABMUlEQVQoz3VQiW7CMAzt//8aEjDRwlibNL3pkTQthxBIvNneQBPSIjl2fDy/vKDve4zjiGEYYK3F6CbYwcNZT3kv+WftdDrhcrngfD6LcXw8HmV+miapB3w1TYM8L9B2LbrGI0sGVIaWtBNMZmCMoXqO++2G98PAZVmibVs8Ho8fwBs1ciJNU2RZRsMZtFbi53kWYwaOmDDTnvJ9VcI6J2/36733CLiRqRdFgTiOBZQtSRIBZ0m6rkNHfmAQFcOaFPbrE66u4GmZp0X87Rfg4XDAbrfDer3GYrHAcrlEGIbioyiSPMeb1QoJLVX7PeIohP5YQYcbxEpDEQHWOuDrer2irmthprV+sVRKCXPWryKdWOec3lJnacgM9bPG/BtmGWy32xfAE4z9e/yv/Zljmb4BPLIE1dtKY2AAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <picture>
        <source
          srcset="/static/9b149d7e6c471b51dcdedc2c5cc13770/8ac56/credentials.webp 240w,
/static/9b149d7e6c471b51dcdedc2c5cc13770/d3be9/credentials.webp 480w,
/static/9b149d7e6c471b51dcdedc2c5cc13770/87ca7/credentials.webp 730w"
          sizes="(max-width: 730px) 100vw, 730px"
          type="image/webp"
        />
        <source
          srcset="/static/9b149d7e6c471b51dcdedc2c5cc13770/8ff5a/credentials.png 240w,
/static/9b149d7e6c471b51dcdedc2c5cc13770/e85cb/credentials.png 480w,
/static/9b149d7e6c471b51dcdedc2c5cc13770/e9beb/credentials.png 730w"
          sizes="(max-width: 730px) 100vw, 730px"
          type="image/png"
        />
        <img
          class="gatsby-resp-image-image"
          src="/static/9b149d7e6c471b51dcdedc2c5cc13770/e9beb/credentials.png"
          alt="credentials"
          title="credentials"
          loading="lazy"
          style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        />
      </picture>
  </a>
    </span></p>
<h2 id="flesh-out-our-app" style="position:relative;"><a href="#flesh-out-our-app" aria-label="flesh out our app permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Flesh Out Our App</h2>
<p>app/controllers/application_controller.rb</p>
<pre class="grvsc-container monokai" data-language="ruby" data-index="4"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk7">class</span><span class="mtk1"> </span><span class="mtk5 mtku">ApplicationController</span><span class="mtk1"> </span><span class="mtk7">&lt;</span><span class="mtk1"> </span><span class="mtk5 mtki mtku">ActionController::Base</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  protect_from_forgery</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk7">def</span><span class="mtk1"> </span><span class="mtk5">get_current_user</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3"># this app does not have a concept of logged-in users</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk4">nil</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk7">end</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk7">def</span><span class="mtk1"> </span><span class="mtk5">fluidfeatures_current_user</span><span class="mtk1">(</span><span class="mtk10 mtki">verbose</span><span class="mtk7">=</span><span class="mtk4">false</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    current_user </span><span class="mtk7">=</span><span class="mtk1"> get_current_user</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk7">if</span><span class="mtk1"> current_user</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk3"># logged in user</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      { </span><span class="mtk4">:id</span><span class="mtk1"> =&gt; current_user[</span><span class="mtk4">:id</span><span class="mtk1">] }</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk7">else</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk3"># anonymous user</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      {}</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk7">end</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk7">end</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk7">end</span></span></span></code></pre>
<p>app/controllers/ab_test_controller.rb</p>
<pre class="grvsc-container monokai" data-language="ruby" data-index="5"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk7">class</span><span class="mtk1"> </span><span class="mtk5 mtku">AbTestController</span><span class="mtk1"> </span><span class="mtk7">&lt;</span><span class="mtk1"> </span><span class="mtk5 mtki mtku">ApplicationController</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk7">def</span><span class="mtk1"> </span><span class="mtk5">index</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk7">if</span><span class="mtk1"> fluidfeature(</span><span class="mtk6">&quot;ab-test&quot;</span><span class="mtk1">, { </span><span class="mtk4">:version</span><span class="mtk1"> =&gt; </span><span class="mtk6">&quot;a&quot;</span><span class="mtk1"> })</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk3"># Our version &quot;A&quot; code here</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      render </span><span class="mtk4">:text</span><span class="mtk1"> =&gt; </span><span class="mtk6">&quot;Do you like Apples? &lt;a href=</span><span class="mtk4">\&quot;</span><span class="mtk6">yes</span><span class="mtk4">\&quot;</span><span class="mtk6">&gt;YES&lt;/a&gt; | &lt;a href=</span><span class="mtk4">\&quot;</span><span class="mtk6">no</span><span class="mtk4">\&quot;</span><span class="mtk6">&gt;NO&lt;/a&gt;&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk7">return</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk7">end</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk7">if</span><span class="mtk1"> fluidfeature(</span><span class="mtk6">&quot;ab-test&quot;</span><span class="mtk1">, { </span><span class="mtk4">:version</span><span class="mtk1"> =&gt; </span><span class="mtk6">&quot;b&quot;</span><span class="mtk1"> })</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk3"># Our version &quot;B&quot; code here</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      render </span><span class="mtk4">:text</span><span class="mtk1"> =&gt; </span><span class="mtk6">&quot;Do you like Bananas? &lt;a href=</span><span class="mtk4">\&quot;</span><span class="mtk6">yes</span><span class="mtk4">\&quot;</span><span class="mtk6">&gt;YES&lt;/a&gt; | &lt;a href=</span><span class="mtk4">\&quot;</span><span class="mtk6">no</span><span class="mtk4">\&quot;</span><span class="mtk6">&gt;NO&lt;/a&gt;&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">      </span><span class="mtk7">return</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk7">end</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    render </span><span class="mtk4">:text</span><span class="mtk1"> =&gt; </span><span class="mtk6">&quot;Nothing to see here&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk7">end</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk7">def</span><span class="mtk1"> </span><span class="mtk5">yes</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    fluidgoal(</span><span class="mtk6">&quot;yes&quot;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    render </span><span class="mtk4">:text</span><span class="mtk1"> =&gt; </span><span class="mtk6">&quot;Great. Me too!&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk7">end</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk7">def</span><span class="mtk1"> </span><span class="mtk5">no</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    fluidgoal(</span><span class="mtk6">&quot;no&quot;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    render </span><span class="mtk4">:text</span><span class="mtk1"> =&gt; </span><span class="mtk6">&quot;That&#39;s a shame. I love them!&quot;</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">  </span><span class="mtk7">end</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk7">end</span></span></span></code></pre>
<h2 id="running-our-app" style="position:relative;"><a href="#running-our-app" aria-label="running our app permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Running Our App</h2>
<p>We pass in the FluidFeatures application credentials we obtained from the dashboard (see above) when we run <strong>script/rails server</strong>.</p>
<pre class="grvsc-container monokai" data-language="" data-index="6"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source">FLUIDFEATURES_APPID=1wy1vvnue4tgh \</span></span>
<span class="grvsc-line"><span class="grvsc-source">FLUIDFEATURES_SECRET=jzJm2JA2mhURGC8DOivVbt23h5rt1GSfFaasCy5s \</span></span>
<span class="grvsc-line"><span class="grvsc-source">FLUIDFEATURES_BASEURI=https://local.fluidfeatures.com/service \</span></span>
<span class="grvsc-line"><span class="grvsc-source">script/rails server</span></span>
<span class="grvsc-line"><span class="grvsc-source">=&gt; fluidfeatures-rails initializing as app 1wy1vvnue4tgh with https://local.fluidfeatures.com/service</span></span>
<span class="grvsc-line"><span class="grvsc-source">=&gt; Booting WEBrick</span></span>
<span class="grvsc-line"><span class="grvsc-source">=&gt; Rails 3.2.8 application starting in development on https://0.0.0.0:3000</span></span>
<span class="grvsc-line"><span class="grvsc-source">=&gt; Call with -d to detach</span></span>
<span class="grvsc-line"><span class="grvsc-source">=&gt; Ctrl-C to shutdown server</span></span>
<span class="grvsc-line"><span class="grvsc-source">[2012-10-22 14:31:37] INFO  WEBrick 1.3.1</span></span>
<span class="grvsc-line"><span class="grvsc-source">[2012-10-22 14:31:37] INFO  ruby 1.9.3 (2012-04-20) [x86_64-darwin11.4.0]</span></span>
<span class="grvsc-line"><span class="grvsc-source">[2012-10-22 14:31:37] INFO  WEBrick::HTTPServer#start: pid=61664 port=3000</span></span></code></pre>
<p>fluidfeatures-rails detects new features when it encounters them at run-time, then reports them back to the dashboard. When we make our first make I request, neither “a” or “b” versions are enabled.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 308px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/17d5449e2464a308da5163a685560bb7/2ece4/nothing-to-see.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 25.83333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsSAAALEgHS3X78AAAAxElEQVQY04XOawuCMBQG4P3/3+P3QiIwSFCLmril7uJlC4Uu84LaMfFj9HB2OLCz8SKMcRiG6ZfneZTS+11nmUxTBsWFYIwJzvO80EorVdZ1/Xo9F2iz2dq2Dc9c17UsCzqspElyuWJ8xYQQOldE6e0WxxGJqqrqus4Y0zQNklIAKWQ5K4CUUiml4Y9VOZ/5dtnIV4hz7jiH3d4JfD8i1A+C8/nkHo+F0tM0jeM4/YaGYYAYb2MejycMEKZtW0jV9/34zwdmdBJkZ0Qk8gAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <picture>
        <source
          srcset="/static/17d5449e2464a308da5163a685560bb7/8ac56/nothing-to-see.webp 240w,
/static/17d5449e2464a308da5163a685560bb7/6882a/nothing-to-see.webp 308w"
          sizes="(max-width: 308px) 100vw, 308px"
          type="image/webp"
        />
        <source
          srcset="/static/17d5449e2464a308da5163a685560bb7/8ff5a/nothing-to-see.png 240w,
/static/17d5449e2464a308da5163a685560bb7/2ece4/nothing-to-see.png 308w"
          sizes="(max-width: 308px) 100vw, 308px"
          type="image/png"
        />
        <img
          class="gatsby-resp-image-image"
          src="/static/17d5449e2464a308da5163a685560bb7/2ece4/nothing-to-see.png"
          alt="nothing to see"
          title="nothing to see"
          loading="lazy"
          style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        />
      </picture>
  </a>
    </span></p>
<p>But during this request we have reported back to the fluidfeatures service that we have a new feature “ab-test” and we have detected two versions, “a” and “b”.</p>
<p>If we look at the dashboard we will see this feature.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 865px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/1c68f0d2d3bdd6fefde5501c0efd40d2/79e48/ab-test-feature-detected.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 46.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsSAAALEgHS3X78AAAAz0lEQVQoz4WR2w6DIBBE+//faLygaBEERFS8tqPGpjZWT3ggwOzuDA+1UgJttKxKZZXSnOdFUTRN0/d9958HXlBK45ikCQu8jPhMScMFZ4w5516XLGJQ13XXua5f1udunudhGKZpwuZcbK1dO8dt224CAAH24zjiHKa28/POaZpGUYQq1Y4xRggBV1prmJdSbuV+xXjI8jyh9LkDt4QQz/PgeZviVLmIETMXIvkCLsIw9H0fnW8Cq9YJkfZRHAD80404yzK4RSr6CCZCHO6SN+2mBdu21bU3AAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <picture>
        <source
          srcset="/static/1c68f0d2d3bdd6fefde5501c0efd40d2/8ac56/ab-test-feature-detected.webp 240w,
/static/1c68f0d2d3bdd6fefde5501c0efd40d2/d3be9/ab-test-feature-detected.webp 480w,
/static/1c68f0d2d3bdd6fefde5501c0efd40d2/5d624/ab-test-feature-detected.webp 865w"
          sizes="(max-width: 865px) 100vw, 865px"
          type="image/webp"
        />
        <source
          srcset="/static/1c68f0d2d3bdd6fefde5501c0efd40d2/8ff5a/ab-test-feature-detected.png 240w,
/static/1c68f0d2d3bdd6fefde5501c0efd40d2/e85cb/ab-test-feature-detected.png 480w,
/static/1c68f0d2d3bdd6fefde5501c0efd40d2/79e48/ab-test-feature-detected.png 865w"
          sizes="(max-width: 865px) 100vw, 865px"
          type="image/png"
        />
        <img
          class="gatsby-resp-image-image"
          src="/static/1c68f0d2d3bdd6fefde5501c0efd40d2/79e48/ab-test-feature-detected.png"
          alt="ab test feature detected"
          title="ab test feature detected"
          loading="lazy"
          style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        />
      </picture>
  </a>
    </span></p>
<h2 id="configuring-the-split" style="position:relative;"><a href="#configuring-the-split" aria-label="configuring the split permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Configuring The Split</h2>
<p>Let’s set version “a” to 75% exposure and version “b” to 25% exposure. This means that 75% of the visitors will see version “a” and 25% will see version “b”.</p>
<p>From the code above we can see that version “a” will show the message “Do you like Apples?” and version “b” will show the message “Do you like Bananas?”. Both will give links to “YES” and “NO”. These “YES” and “NO” links are our goals. We want our users to click these links and we will track how successful each version of our question is.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 386px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/d32c259016ed473cf33f752242ee0b8b/7bc0b/ab-test-75-25.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 63.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsSAAALEgHS3X78AAABrUlEQVQoz5WS207jMBCG8668CPAKSLASWq7gAlGWvWIlBCoiiKS0DQ0EWvdAEickaZwDcQ6G5tCdQrVaiirEr0+WPQd5PB5O0zTDMEzTHI/HhJDpd8QJglCv13mebzQa7XYbTFVVLYsGV17mZVXMkxd85Vd6D3u/gMPYuHuTruthGAZL5Ad+9BxpT8NfVzsXnT9ZyqppxcGbJUkSG+JwNAhCn3iuB8tnPJLQFOnK6t7K3tlGGrOyLDjH8ShNikn5mhUZfWHx62cyypI4GY0G8q3yZNjD/iiOY6icM02rh9Bxa3f/aqMm/qiJWwscCJtH19vo8aH70G02W5LURqg3T4Z6sIF55fiks38qHwBncu1/wHJ++xsNutAU+FRVVaEFURTNkh3H9f1gkhRFOgUmScXohMUfgOdQSg0DP6qqbdsYYzjOknVsqRq+V1vSgAfu1KbtWAtYtgXz07m54flLRVFkWYay4dvgZgf10aGwtXO+/rO+diRu93oIIu4/CizQmn4fwR5mcV42eVPoR1EQA6H37LouWSJwedAkQubJjLFspvQf7CtBdJ7nMGF/AaFXv346X1dAAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <picture>
        <source
          srcset="/static/d32c259016ed473cf33f752242ee0b8b/8ac56/ab-test-75-25.webp 240w,
/static/d32c259016ed473cf33f752242ee0b8b/23cef/ab-test-75-25.webp 386w"
          sizes="(max-width: 386px) 100vw, 386px"
          type="image/webp"
        />
        <source
          srcset="/static/d32c259016ed473cf33f752242ee0b8b/8ff5a/ab-test-75-25.png 240w,
/static/d32c259016ed473cf33f752242ee0b8b/7bc0b/ab-test-75-25.png 386w"
          sizes="(max-width: 386px) 100vw, 386px"
          type="image/png"
        />
        <img
          class="gatsby-resp-image-image"
          src="/static/d32c259016ed473cf33f752242ee0b8b/7bc0b/ab-test-75-25.png"
          alt="ab test 75 25"
          title="ab test 75 25"
          loading="lazy"
          style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        />
      </picture>
  </a>
    </span></p>
<h2 id="and-we-are-live" style="position:relative;"><a href="#and-we-are-live" aria-label="and we are live permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>And We Are Live!</h2>
<p>If we now visit the application, instead of seeing “Nothing to see here”, we know we have a 75% chance of seeing “Do you like Apples?” and a 25% chance of seeing “Do you like Bananas?”.</p>
<p>We see “Do you like Bananas?”.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 302px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/739adefa50b7b9fc81eb0edfe27c1166/5f1d2/do-you-like-bananas.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 30.41666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsSAAALEgHS3X78AAAA50lEQVQY06WOSW+DMBSE/f//EScWcQqBSilrCEtssKkgi2yTxingPlLlkHM/yePR0/OMUZqmcRyDJkkShiEoY6xtG3zEmBAMglfatqWUdV8dpXQYhtMTZNu2ZVmO45imaRiG67owhY0oitMsy/O8LMvDIa+qqq5rSIFLKTXP8zRNiBACoR1j8AB80xAwfd9DPBgGbaz7gz0BQ1+ghuDd7rMoiiTdB34AbVvf33iB523rI8miJtjscU0/vOI0CK31siz6BYI/SCnkekbOuRxHLvhl5arUQ4jvy1ne7w9+vSn1o99B+h/8AtDJSJIauEv1AAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <picture>
        <source
          srcset="/static/739adefa50b7b9fc81eb0edfe27c1166/8ac56/do-you-like-bananas.webp 240w,
/static/739adefa50b7b9fc81eb0edfe27c1166/7cc02/do-you-like-bananas.webp 302w"
          sizes="(max-width: 302px) 100vw, 302px"
          type="image/webp"
        />
        <source
          srcset="/static/739adefa50b7b9fc81eb0edfe27c1166/8ff5a/do-you-like-bananas.png 240w,
/static/739adefa50b7b9fc81eb0edfe27c1166/5f1d2/do-you-like-bananas.png 302w"
          sizes="(max-width: 302px) 100vw, 302px"
          type="image/png"
        />
        <img
          class="gatsby-resp-image-image"
          src="/static/739adefa50b7b9fc81eb0edfe27c1166/5f1d2/do-you-like-bananas.png"
          alt="do you like bananas"
          title="do you like bananas"
          loading="lazy"
          style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        />
      </picture>
  </a>
    </span></p>
<h2 id="keeping-score" style="position:relative;"><a href="#keeping-score" aria-label="keeping score permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Keeping Score</h2>
<p>Let’s click on “YES” and indicate that we do like bananas.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 314px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/888b1dea643951fd60efe3de70cfddfa/5b158/great-me-too.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 28.750000000000004%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsSAAALEgHS3X78AAAAr0lEQVQY06XNsQ6DIBAGYN7/hVzq4lZHCaLYgqAcdGisxsYmJtjDtrtJv+HP8ZPcEcaYUkpKSSnlnDvnrLVaG9N15hsaGwDw3mM6cDjcdyRNT8UuSZIsy7DCv7LkVV0LIeRVNk3Tqsh0ptUah5v3IYR1XUncBYD7+74HsLAfcd59jiAfIz5j8xvsjuT5uRYXyhilRVUJ0/UbCmE7gAzD8Bin+TlP44SW5bUdRrY/vAFb7E4zetqxXQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <picture>
        <source
          srcset="/static/888b1dea643951fd60efe3de70cfddfa/8ac56/great-me-too.webp 240w,
/static/888b1dea643951fd60efe3de70cfddfa/715b3/great-me-too.webp 314w"
          sizes="(max-width: 314px) 100vw, 314px"
          type="image/webp"
        />
        <source
          srcset="/static/888b1dea643951fd60efe3de70cfddfa/8ff5a/great-me-too.png 240w,
/static/888b1dea643951fd60efe3de70cfddfa/5b158/great-me-too.png 314w"
          sizes="(max-width: 314px) 100vw, 314px"
          type="image/png"
        />
        <img
          class="gatsby-resp-image-image"
          src="/static/888b1dea643951fd60efe3de70cfddfa/5b158/great-me-too.png"
          alt="great me too"
          title="great me too"
          loading="lazy"
          style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        />
      </picture>
  </a>
    </span></p>
<p>Meanwhile, back on the dashboard, we see the detected goal pop-up.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 793px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/65addf45ea49304a42c43b9237e3ea5e/73fd0/one-banana-lover.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 49.583333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABpklEQVQoz42S2W7bMBBF9f+fEvS9yINfiqJBltZtbNmRZYnaLFsMKWqPVC03JKMYbRoUGeBgBiB1eWdGBqUUvu8jPh5wjDg8+xEh4aAnBtd19BljDCqmadK81u+F0TQNOOcoigKcpUhOFI+UYegHDMOAvu91/jNehd/DqOv6LDhN45m3oe5lWYZxHPG/MJQYIS6iKNJOxlE6G4e5lh/PnTHO5D2Ctm21E3X2lrND4hLkaYG6bFDmlaTWORMZPl9f4EB9/O56Pcs8z5Gm6QtC6CwkylhVVTCKvMSDY+K7/QU/nW+a5f4r1uQWnkew3qwgRCrbzbHdbpEkiRbhKQeniRZKVS07UGMzyqICCR2Y7h3WMyvnFg/eL7iOC3u3167U8nw/wOmYQPBMiuRg4QE8CHVNE46yLF8c3u9+YLH+JEWXiMIYfuAjCANsdhuszHuITMilNPLXiuHFNtzQghtJ4j0c8xq2tYTlWfJhAaNrO2SFnEXJIcr0L4o6k+Touk7Op4Z/ILjZLXBjzcz1lXmJq+0CTFAY+GCo7aqhP9XtvzSdzE/yTodnhc71o+KNkAwAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <picture>
        <source
          srcset="/static/65addf45ea49304a42c43b9237e3ea5e/8ac56/one-banana-lover.webp 240w,
/static/65addf45ea49304a42c43b9237e3ea5e/d3be9/one-banana-lover.webp 480w,
/static/65addf45ea49304a42c43b9237e3ea5e/51ddc/one-banana-lover.webp 793w"
          sizes="(max-width: 793px) 100vw, 793px"
          type="image/webp"
        />
        <source
          srcset="/static/65addf45ea49304a42c43b9237e3ea5e/8ff5a/one-banana-lover.png 240w,
/static/65addf45ea49304a42c43b9237e3ea5e/e85cb/one-banana-lover.png 480w,
/static/65addf45ea49304a42c43b9237e3ea5e/73fd0/one-banana-lover.png 793w"
          sizes="(max-width: 793px) 100vw, 793px"
          type="image/png"
        />
        <img
          class="gatsby-resp-image-image"
          src="/static/65addf45ea49304a42c43b9237e3ea5e/73fd0/one-banana-lover.png"
          alt="one banana lover"
          title="one banana lover"
          loading="lazy"
          style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        />
      </picture>
  </a>
    </span></p>
<p>Statistically not very significant, but we can see we are tracking some statistics.</p>
<h2 id="wheres-the-apples" style="position:relative;"><a href="#wheres-the-apples" aria-label="wheres the apples permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Where’s The Apples?</h2>
<p>No matter how many times I refresh my browser, I see “Do you like Bananas?” due to fluidfeatures-rails giving me a consistent experience while using this application.</p>
<p>If I open the application in a different browser, I now see “Do you like Apples?” and I can click “YES” there, too.</p>
<h2 id="statistical-significance" style="position:relative;"><a href="#statistical-significance" aria-label="statistical significance permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Statistical Significance</h2>
<p>Over time, we get more clicks on “YES” and “NO” for “apples” and “bananas”. This application is really popular!</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 374px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/f5ac07332728015934a0966070a2a730/52dba/yes-goal.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 61.24999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAABYklEQVQoz5WQ0U7CMBSG9+5eGIlyow9gjIqJJHpthKkwEWEOQWAgy4ZjW9d2W1s2RK48jIgzMRFPvmRt1u+c9pfm87kQIkkS8Z/inIMowQchZNs2ISTYuCiljDEJZmqaJsuy4zjQCH6EGxQcW8ogwIamBcP/cJZaRoYHYIxVVW00Hvt6L4A+AclAszJjEWdRFGUmwwqTQLB4Jj5m0yyLWMzgaJRWGEaeR+wJhnDSRqkMFx7oZrlzUXjIF+sH5/V9ABaFWr7ULiLkO57jeq7jOoOh1e2bpmX7PmKMp3JAkYv08bM6utOM6heKOrodvrVFmPBQ8HAKRMF6wb4nW5ZrTPSepfbHWoZW12querWManNYKTWv5aeS0i2/TjqCi6VMKDGN8VXr7LCydaLkjpWdDLnT+901hRqwd1Tdvnm5jEUiwfTV62OeQEI/A/ud9+kC0oUIpTiO4doQOKEYU39TCAbxE21aggNK9rC/AAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <picture>
        <source
          srcset="/static/f5ac07332728015934a0966070a2a730/8ac56/yes-goal.webp 240w,
/static/f5ac07332728015934a0966070a2a730/ad40e/yes-goal.webp 374w"
          sizes="(max-width: 374px) 100vw, 374px"
          type="image/webp"
        />
        <source
          srcset="/static/f5ac07332728015934a0966070a2a730/8ff5a/yes-goal.png 240w,
/static/f5ac07332728015934a0966070a2a730/52dba/yes-goal.png 374w"
          sizes="(max-width: 374px) 100vw, 374px"
          type="image/png"
        />
        <img
          class="gatsby-resp-image-image"
          src="/static/f5ac07332728015934a0966070a2a730/52dba/yes-goal.png"
          alt="yes goal"
          title="yes goal"
          loading="lazy"
          style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        />
      </picture>
  </a>
    </span></p>
<p>We can see that “a” (for “apples”) received more clicks than “b” (for “bananas”). 29 for “a” vs 20 “b”. Although, from the percentages it appears that “b” is more than twice as popular. How can that be?</p>
<p>If we look back at the feature settings, we are only showing “b” to 25% of the users that come to our site, so each click is much more statistically significant than the clicks we receive from “a”, which is shown to 75% of our users.</p>
<p>We can change the exposure level that each version receives and FluidFeatures will keep track of the statistical significance of each goal (“YES” click) at the time it occurs.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 486px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/6b4022adb7a2cf6cbc68d9c0be444c48/4ee7f/full-dashboard.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 80.83333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAACKklEQVQ4y41Ti27aQBD0//9TGiWloSQoJK2rBLCx8euwz2+MXzymt0uTNEoQWWmEbR2zuzNzWpZlKIoC9FuWa+TZEWWxRpqmjPV6jbZt0TTNWWibzQar1QqWZSGKYji2xNKKEMscQeDDdV0m/GppdHi326HrOvR9h7quUFWl+rZ9d/BwOLx7PgWtLEsIIbBYLJDn+UkSksQ0TG58dsIkSWBbNtZFhaZuUW8aRtf0cFYmwjRA3/UIo5DXr6rqU2y3W2hkiJQxDGsGyzdgewYsxlxpK3A7GcKwZ2ibFrZtK21jHiCO41fQu5SSjdNolSzN8ez8xoM1xP3iBhPzBo/mCAtHEZuKJE74sOu5sFwTcRIr97PXFMgo4aFIDkWYqj+keJzfYTz7Dk85G/gCwg/hOi70PzqEmrRtO/jCx2h6CcN55m++8BiGksv1vCNhojpQd5mFCPMASam6FwkbRHKQaZyxulHNPNzPf+BudvWG6RUG+gUm8xHrrNH+XylqSk1StdH/oA2zPOPnvleEJCbV/rA/mS0qcpGilaQJm/CGo45kDq8cRdHZsFLVdc0ur0SIIi/U9cyZiB0nlxUhuxyG4YcQfxbuRsXG8Rw2bjy/Zv084SKNc/hehHAljxPSPeaV9/uzEy7dJX4+XWL4dMG4m15jPB1g8OsbHma3R8KXCc8VCZ4q/UTsQ0iPEUiX4UtHvfvq/u+h6bp+dO9fSE/h5XakZMIHZGwOGfYX5uLB1nODLEAAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <picture>
        <source
          srcset="/static/6b4022adb7a2cf6cbc68d9c0be444c48/8ac56/full-dashboard.webp 240w,
/static/6b4022adb7a2cf6cbc68d9c0be444c48/d3be9/full-dashboard.webp 480w,
/static/6b4022adb7a2cf6cbc68d9c0be444c48/aba12/full-dashboard.webp 486w"
          sizes="(max-width: 486px) 100vw, 486px"
          type="image/webp"
        />
        <source
          srcset="/static/6b4022adb7a2cf6cbc68d9c0be444c48/8ff5a/full-dashboard.png 240w,
/static/6b4022adb7a2cf6cbc68d9c0be444c48/e85cb/full-dashboard.png 480w,
/static/6b4022adb7a2cf6cbc68d9c0be444c48/4ee7f/full-dashboard.png 486w"
          sizes="(max-width: 486px) 100vw, 486px"
          type="image/png"
        />
        <img
          class="gatsby-resp-image-image"
          src="/static/6b4022adb7a2cf6cbc68d9c0be444c48/4ee7f/full-dashboard.png"
          alt="full dashboard"
          title="full dashboard"
          loading="lazy"
          style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        />
      </picture>
  </a>
    </span></p>
<h2 id="download-the-code" style="position:relative;"><a href="#download-the-code" aria-label="download the code permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Download The Code</h2>
<p>You can download the code from the application at<br>
<a href="https://github.com/FluidFeatures/MyRailsApp" target="_blank" rel="nofollow noopener noreferrer">https://github.com/FluidFeatures/MyRailsApp</a></p>
<h2 id="updated" style="position:relative;"><a href="#updated" aria-label="updated permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Updated</h2>
<ul>
<li>Changed fluidfeature_current_user to fluidfeature<strong>s</strong>_current_user <small>(2013-01-17)</small></li>
</ul>
<h2 id="comments" style="position:relative;"><a href="#comments" aria-label="comments permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Comments</h2>
<div id="comments">
  <ol class="comment-list">
    <li id="comment-23676" class="comment even thread-even depth-1 comment reader">
      <img alt="alex kuznetsov" src="https://1.gravatar.com/avatar/d03097fc0e24158dcddf952f9d4d0800?s=80&amp;d=https%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D80&amp;r=PG" class="avatar avatar-80 photo" height="80" width="80">
      <div class="comment-meta comment-meta-data">
        <div class="comment-author vcard">
          <cite class="fn" title="https://cophenetic.com">alex kuznetsov</cite>
        </div>
        <!-- .comment-author .vcard -->
        <abbr class="comment-date" title="Tuesday, October 23rd, 2012, 8:24 pm">October 23, 2012</abbr> at <abbr class="comment-time" title="Tuesday, October 23rd, 2012, 8:24 pm">8:24 pm</abbr>
      </div>
      <div class="comment-text">
        <p>Interesting gem. I don&#x2019;t usually use these often, but it has a nifty ui, so I might give it a try.</p>
      </div>
      <!-- .comment-text -->
    </li>
    <!-- .comment -->
  </ol>
  <!-- .comment-list -->
</div>
<style class="grvsc-styles">
  .grvsc-container {
    overflow: auto;
    position: relative;
    -webkit-overflow-scrolling: touch;
    padding-top: 1rem;
    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));
    padding-bottom: 1rem;
    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));
    border-radius: 8px;
    border-radius: var(--grvsc-border-radius, 8px);
    font-feature-settings: normal;
    line-height: 1.4;
  }
  
  .grvsc-code {
    display: table;
  }
  
  .grvsc-line {
    display: table-row;
    box-sizing: border-box;
    width: 100%;
    position: relative;
  }
  
  .grvsc-line > * {
    position: relative;
  }
  
  .grvsc-gutter-pad {
    display: table-cell;
    padding-left: 0.75rem;
    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);
  }
  
  .grvsc-gutter {
    display: table-cell;
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  
  .grvsc-gutter::before {
    content: attr(data-content);
  }
  
  .grvsc-source {
    display: table-cell;
    padding-left: 1.5rem;
    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));
    padding-right: 1.5rem;
    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));
  }
  
  .grvsc-source:empty::after {
    content: ' ';
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  
  .grvsc-gutter + .grvsc-source {
    padding-left: 0.75rem;
    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);
  }
  
  /* Line transformer styles */
  
  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {
    content: ' ';
    position: absolute;
    width: 100%;
  }
  
  .grvsc-line-diff-add::before {
    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));
  }
  
  .grvsc-line-diff-del::before {
    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));
  }
  
  .grvsc-line-number {
    padding: 0 2px;
    text-align: right;
    opacity: 0.7;
  }
  
  .monokai {
    background-color: #272822;
    color: #f8f8f2;
  }
  .monokai .mtku {
    text-decoration: underline;
    text-underline-position: under;
  }
  .monokai .mtki { font-style: italic; }
  .monokai .mtk7 { color: #F92672; }
  .monokai .mtk1 { color: #F8F8F2; }
  .monokai .mtk5 { color: #A6E22E; }
  .monokai .mtk10 { color: #FD971F; }
  .monokai .mtk4 { color: #AE81FF; }
  .monokai .mtk3 { color: #75715E; }
  .monokai .mtk9 { color: #66D9EF; }
  .monokai .mtk6 { color: #E6DB74; }
  .monokai .grvsc-line-highlighted::before {
    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));
    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));
  }
</style></div></div></div><div class="Post-module--post__footer--3WzWU"><a href="/"><b>See more posts</b></a><div><p class="Meta-module--meta__date--29eD7">Published <!-- -->23 Oct 2012</p></div><div class="Tags-module--tags--1L_ct"><ul class="Tags-module--tags__list--91FqN"><li class="Tags-module--tags__list-item--1M30P"><a class="Tags-module--tags__list-item-link--3SL_8" href="/tag/a-b-testing/">a/b testing</a></li><li class="Tags-module--tags__list-item--1M30P"><a class="Tags-module--tags__list-item-link--3SL_8" href="/tag/fluidfeatures/">fluidfeatures</a></li><li class="Tags-module--tags__list-item--1M30P"><a class="Tags-module--tags__list-item-link--3SL_8" href="/tag/gem/">gem</a></li><li class="Tags-module--tags__list-item--1M30P"><a class="Tags-module--tags__list-item-link--3SL_8" href="/tag/multi-variant-testing/">multi-variant testing</a></li><li class="Tags-module--tags__list-item--1M30P"><a class="Tags-module--tags__list-item-link--3SL_8" href="/tag/ruby/">ruby</a></li><li class="Tags-module--tags__list-item--1M30P"><a class="Tags-module--tags__list-item-link--3SL_8" href="/tag/ruby-on-rails/">ruby on rails</a></li></ul></div><div class="Author-module--author--2Yefr"><p>Software Engineer<a class="Author-module--author__bio-twitter--n-O9n" href="https://www.twitter.com/philwhln" rel="noopener noreferrer" target="_blank"><strong>Phil Whelan</strong> on Twitter</a></p></div></div><div class="Post-module--post__comments--25y6I"></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/ab-testing-in-ruby-on-rails";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-b172745a4e06fd8641f8.js"],"app":["/app-1be3f86dc13de6efc5d3.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-3d02ed64efaca327a32d.js"],"component---src-templates-categories-list-template-js":["/component---src-templates-categories-list-template-js-c783365a494b8524316b.js"],"component---src-templates-category-template-js":["/component---src-templates-category-template-js-ff7110e1e21573c2068f.js"],"component---src-templates-index-template-js":["/component---src-templates-index-template-js-698865c485c9695c81b4.js"],"component---src-templates-not-found-template-js":["/component---src-templates-not-found-template-js-2ca4fb76ee82d69b6cbb.js"],"component---src-templates-post-template-js":["/component---src-templates-post-template-js-a0fc6e0c604116ad175d.js"],"component---src-templates-tag-template-js":["/component---src-templates-tag-template-js-128d928e6b44e24c5322.js"],"component---src-templates-tags-list-template-js":["/component---src-templates-tags-list-template-js-bd067b39332a4dfdf0d9.js"]};/*]]>*/</script><script src="/polyfill-b172745a4e06fd8641f8.js" nomodule=""></script><script src="/component---src-templates-post-template-js-a0fc6e0c604116ad175d.js" async=""></script><script src="/643651a62fb35a9bb4f20061cb1f214a352d7976-921c08de707572e0b904.js" async=""></script><script src="/b40c11bee3846ca70ab17cd1bc776b2e57af83cb-10791c46efc983490b73.js" async=""></script><script src="/styles-083a06cb5740baaf347d.js" async=""></script><script src="/app-1be3f86dc13de6efc5d3.js" async=""></script><script src="/framework-d018bf9a55d82f10618c.js" async=""></script><script src="/webpack-runtime-2669f23515168d4daa22.js" async=""></script></body></html>